!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i=function(){function t(){this._eventListeners={}}var e=t.prototype;return e.emit=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this._fireEvent.apply(this,[t].concat(n))},e.on=function(t,e,n){void 0===n&&(n=null),this.addEventListener(t,e,n)},e.once=function(t,e,n){void 0===n&&(n=null),this.addEventListenerOnce(t,e,n)},e.addEventListener=function(t,e,n){void 0===n&&(n=null),e&&this._subscribeEvent(t,e,n)},e.addEventListenerOnce=function(t,e,n){var i=this;if(void 0===n&&(n=null),e){this.addEventListener(t,function a(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];e.apply(n,s),i.removeEventListener(t,a)})}},e.removeEventListener=function(t,e){if(this._eventListeners[t]){var n=this._eventListeners[t].findIndex(function(t){var n=t[0];return e===n});n<0||this._eventListeners[t].splice(n,1)}},e.removeAllListeners=function(t){void 0===t&&(t=null),t?this._eventListeners[t]&&(this._eventListeners[t]=null,delete this._eventListeners[t]):this._eventListeners={}},e._allocateEvent=function(t){this._eventListeners[t]=this._eventListeners[t]||[]},e._subscribeEvent=function(t,e,n){this._allocateEvent(t),this._eventListeners[t].push([e,n])},e._fireEvent=function(t){for(var e=this._eventListeners[t]||[],n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];for(var r=0;r<e.length;++r){var s=e[r],o=s[0],u=s[1];o.apply(u,i)}},t}(),a=60;var r={default:"default",dark:"dark"};function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o="update",u=function(t){var e,n;function i(e,n){var i;return void 0===e&&(e=60),void 0===n&&(n=1),(i=t.call(this)||this)._timeElapsed=0,i._timeScale=1,i._updateInvokes=0,i._updatesPerSecond=60,i._updateEach=1,i._lastUpdateAt=0,i._paused=!1,i._updatesPerSecond=Math.min(60,Math.max(1e-8,e)),i._updateEach=a/i._updatesPerSecond,i._timeScale=n,i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,u,l,c=i.prototype;return c.update=function(t){this._paused||(this._timeElapsed+=t,this._updateInvokes++,this._updateInvokes%this._updateEach<1&&(this._callUpdate((this._timeElapsed-this._lastUpdateAt)*this._timeScale),this._lastUpdateAt=this._timeElapsed))},c.dispose=function(){this._paused=!0,this.removeAllListeners()},c._callUpdate=function(t){this.emit(o,t)},r=i,(u=[{key:"isPaused",get:function(){return this._paused}},{key:"isRunning",get:function(){return!this._paused}},{key:"timeScale",get:function(){return this._timeScale},set:function(t){this._timeScale=t}}])&&s(r.prototype,u),l&&s(r,l),i}(i),l=function(){function t(){this._lastUpdateMs=0,this._lastUpdateMs=performance.now()}return t.prototype.getDelta=function(){var t=performance.now(),e=t-this._lastUpdateMs;return this._lastUpdateMs=t,e},t}();function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var h=1,v="undefined"!=typeof self,f=function(){function t(){this._id=h++,this.options=null,this.environmentOptions=null,this.canvas=null,this.context=null,this._chart=null,this._navigatorChart=null,this._labelButtons=null,this._themeName=r.default,this._title="",this._clock=null,this._animationSource=null,this.devicePixelRatio=1,this.canvasOffset={top:0,left:0}}t.create=function(e,n,i){void 0===n&&(n={}),void 0===i&&(i={});var a=new t;return a.setOptions(n),a.setEnvironmentOptions(i),a.setRenderer(e),a.initialize(),a};var e,n,i,a=t.prototype;return a.setOptions=function(t){void 0===t&&(t={}),this.options=t},a.setEnvironmentOptions=function(t){void 0===t&&(t={});var e=t,n=e.devicePixelRatio,i=void 0===n?1:n,a=e.canvasOffset;this.environmentOptions=t,this.devicePixelRatio=i,this.canvasOffset=a,console.log("environment",t)},a.setRenderer=function(t){this.canvas=t},a.initialize=function(){var t=this;this.setTheme(this.options.theme||r.default),this.setTitle(this.options.title),this._initializeContext(),this._clock=new l,this._animationSource=new u(60,1),this._animationSource.on(o,function(e){t.update(e),t.render()}),this.nextFrame()},a.nextFrame=function(){var t=this,e=this._clock.getDelta();this._animationSource.update(e),this.global.requestAnimationFrame(function(e){return t.nextFrame()})},a.update=function(t){},a.render=function(){},a.setTheme=function(t){this._themeName=t},a.setTitle=function(t){this._title=t},a.destroy=function(){},a._initializeContext=function(){this.context=this.canvas.getContext("2d")},a._createChart=function(){this._chart=new Chart(this),this._chart.initialize()},a._createNavigatorChart=function(){this._navigatorChart=new NavigatorChart(this),this._navigatorChart.initialize()},a._createLabelButtons=function(){this._labelButtons=new LabelButtons(this),this._labelButtons.initialize()},a._addEventListeners=function(){var t=this;this._chart.on(ChartEvents.SERIES_VISIBLE_CHANGE,function(e){t._navigatorChart.toggleSeries(e.label)}),this._navigatorChart.on(NavigatorChartEvents.RANGE_CHANGED,function(e){var n;(n=t._chart).setNavigationRange.apply(n,e)}),this._navigatorChart.on(NavigatorChartEvents.ANIMATE_RANGE,function(e){var n;(n=t._chart).animateNavigationRangeTo.apply(n,e)})},e=t,(n=[{key:"themeName",get:function(){return this._themeName}},{key:"global",get:function(){return v?self:window}}])&&c(e.prototype,n),i&&c(e,i),t}();const d=new i;let p=null;self.addEventListener("message",t=>{const e=t.data.type||"message";d.emit(e,t)}),d.on("init",t=>{const e=t.data;p=function(t){var e=t.canvas,n=t.settings,i=n.options,a=n.environmentOptions;return f.create(e,i,a)}(e),console.log(p)}),d.on("updateEnvironment",t=>{const{environmentOptions:e}=t.data;e&&p.setEnvironmentOptions(e)})}]);
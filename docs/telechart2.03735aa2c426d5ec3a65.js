!function(t){var i={};function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(n,r,function(i){return t[i]}.bind(null,r));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";e.r(i);var n={};e.r(n),e.d(n,"ROOT_CLASS_NAME",function(){return o}),e.d(n,"interpolateThemeClass",function(){return s}),e.d(n,"ChartThemes",function(){return h}),e.d(n,"ChartThemesColors",function(){return u}),e.d(n,"Colors",function(){return l}),e.d(n,"TimeRanges",function(){return A}),e.d(n,"ChartVariables",function(){return b}),e.d(n,"FRAMES_PER_SECOND",function(){return w}),e.d(n,"FRAMES_DELTA_SEC",function(){return S}),e.d(n,"FRAMES_DELTA_MS",function(){return R}),e.d(n,"warp",function(){return P}),e.d(n,"warpRatio",function(){return M}),e.d(n,"animationTimeout",function(){return T}),e.d(n,"linear",function(){return O}),e.d(n,"easeInQuad",function(){return E}),e.d(n,"easeOutQuad",function(){return k}),e.d(n,"easeInOutQuad",function(){return L}),e.d(n,"easeInCubic",function(){return Y}),e.d(n,"easeOutCubic",function(){return N}),e.d(n,"easeInOutCubic",function(){return V}),e.d(n,"easeInQuart",function(){return I}),e.d(n,"easeOutQuart",function(){return W}),e.d(n,"easeInOutQuart",function(){return D}),e.d(n,"easeInQuint",function(){return H}),e.d(n,"easeOutQuint",function(){return U}),e.d(n,"easeInOutQuint",function(){return X}),e.d(n,"easeOutElastic",function(){return j}),e.d(n,"objectEachKey",function(){return F}),e.d(n,"objectMapKey",function(){return B}),e.d(n,"clampNumber",function(){return z}),e.d(n,"ensureNumber",function(){return q}),e.d(n,"isObject",function(){return Q}),e.d(n,"isDate",function(){return G}),e.d(n,"throttle",function(){return K}),e.d(n,"isBrowserSafari",function(){return $}),e.d(n,"isTouchEventsSupported",function(){return J}),e.d(n,"isPassiveEventSupported",function(){return Z}),e.d(n,"passiveIfSupported",function(){return tt}),e.d(n,"isWebWorkerSupported",function(){return it}),e.d(n,"isOffscreenCanvasSupported",function(){return et}),e.d(n,"isTransformSupported",function(){return nt}),e.d(n,"createElement",function(){return ut}),e.d(n,"resolveElement",function(){return lt}),e.d(n,"getElementOffset",function(){return ct}),e.d(n,"getElementRelativeOffset",function(){return dt}),e.d(n,"getDocumentHeight",function(){return vt}),e.d(n,"getDocumentScrollTop",function(){return ft}),e.d(n,"getWindowHeight",function(){return gt}),e.d(n,"getElementHeight",function(){return pt}),e.d(n,"getElementWidth",function(){return _t}),e.d(n,"getElementScrollHeight",function(){return mt}),e.d(n,"getElementScrollWidth",function(){return xt}),e.d(n,"setAttributes",function(){return Ct}),e.d(n,"setAttributesNS",function(){return At}),e.d(n,"setAttributeNS",function(){return bt}),e.d(n,"removeElement",function(){return wt}),e.d(n,"hasClass",function(){return St}),e.d(n,"addClass",function(){return Rt}),e.d(n,"removeClass",function(){return Pt}),e.d(n,"addEventListenerOnce",function(){return Mt}),e.d(n,"capitalize",function(){return rt}),e.d(n,"cssText",function(){return at}),e.d(n,"camelToKebabCase",function(){return ot}),e.d(n,"parseQueryString",function(){return st}),e.d(n,"zeroFill",function(){return ht}),e.d(n,"arraysEqual",function(){return Tt}),e.d(n,"arrayMinIndex",function(){return Ot}),e.d(n,"arrayMin",function(){return Et}),e.d(n,"arrayMaxIndex",function(){return kt}),e.d(n,"arrayMax",function(){return Lt}),e.d(n,"arrayMinMaxIndexes",function(){return Yt}),e.d(n,"arrayMinMax",function(){return Nt}),e.d(n,"arraySum",function(){return Vt}),e.d(n,"arrayAvg",function(){return It}),e.d(n,"binarySearchIndexes",function(){return Wt}),e.d(n,"binarySearchObjectIndexes",function(){return Dt}),e.d(n,"arrayDiff",function(){return Ht}),e.d(n,"drawRoundedRect",function(){return Ut});var r=function(){function t(){this._eventListeners={}}var i=t.prototype;return i.emit=function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),n=1;n<i;n++)e[n-1]=arguments[n];this._fireEvent.apply(this,[t].concat(e))},i.on=function(t,i,e){void 0===e&&(e=null),this.addEventListener(t,i,e)},i.once=function(t,i,e){void 0===e&&(e=null),this.addEventListenerOnce(t,i,e)},i.addEventListener=function(t,i,e){void 0===e&&(e=null),i&&this._subscribeEvent(t,i,e)},i.addEventListenerOnce=function(t,i,e){var n=this;if(void 0===e&&(e=null),i){this.addEventListener(t,function r(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];i.apply(e,o),n.removeEventListener(t,r)})}},i.removeEventListener=function(t,i){if(this._eventListeners[t]){var e=this._eventListeners[t].findIndex(function(t){var e=t[0];return i===e});e<0||this._eventListeners[t].splice(e,1)}},i.removeAllListeners=function(t){void 0===t&&(t=null),t?this._eventListeners[t]&&(this._eventListeners[t]=null,delete this._eventListeners[t]):this._eventListeners={}},i._allocateEvent=function(t){this._eventListeners[t]=this._eventListeners[t]||[]},i._subscribeEvent=function(t,i,e){this._allocateEvent(t),this._eventListeners[t].push([i,e])},i._fireEvent=function(t){for(var i=this._eventListeners[t]||[],e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var a=0;a<i.length;++a){var o=i[a],s=o[0],h=o[1];s.apply(h,n)}},t}(),a=function(){function t(){this._lastUpdateMs=0,this._lastUpdateMs=performance.now()}return t.prototype.getDelta=function(){var t=performance.now(),i=t-this._lastUpdateMs;return this._lastUpdateMs=t,i},t}(),o="telechart2-root";function s(t){return o+"_theme_"+t}var h={default:"default",dark:"dark"},u={default:"#ffffff",dark:"#242F3E"},l={default:{color:"#FFFFFF",sliderBorder:"#C0D1E1",sliderOverlay:"#E2EEF9",sliderOverlayAlpha:.6,axisTextColor:"#8E8E93",axisTextColorAlpha:1,axisColor:"#182D3B",axisColorAlpha:.1},dark:{color:"#242F3E",sliderBorder:"#56626D",sliderOverlay:"#304259",sliderOverlayAlpha:.6,axisTextColor:"#A3B1C2",axisTextColorAlpha:.6,axisColor:"#FFFFFF",axisColorAlpha:.1}},c="init",d="updateEnvironment",v="setTheme",f="setTitle",g="initializeButtons",p="updateButtons",_="toggleSeries",m="updateDataLabel",x="setDataLabelVisibility",y="mainCanvasEvent",C="x",A={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},b={enableOffscreenCanvas:!0,minWidth:100,mainMaxHeight:337,mainChartHeight:290,mainChartOffsetTop:15,mainChartOffsetBottom:32,chartPaddingLeftRight:12,navigationChartHeight:40,navigationChartUIHeight:44,navigationChartOffsetY:388,initialViewportScale:.1},w=60,S=1/60,R=1e3/60;function P(t,i,e){return void 0===e&&(e=S),t*M(i,e)}function M(t,i){return void 0===i&&(i=S),t/i}function T(t){void 0===t&&(t=0);for(var i=arguments.length,e=new Array(i>1?i-1:0),n=1;n<i;n++)e[n-1]=arguments[n];return new Promise(function(i){var n=i.bind.apply(i,[null].concat(e)),r=function(){return requestAnimationFrame(n)};t?setTimeout(function(t){return r()},t):r()})}var O=function(t){return t},E=function(t){return t*t},k=function(t){return t*(2-t)},L=function(t){return t<.5?2*t*t:(4-2*t)*t-1},Y=function(t){return t*t*t},N=function(t){return--t*t*t+1},V=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},I=function(t){return t*t*t*t},W=function(t){return 1- --t*t*t*t},D=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},H=function(t){return t*t*t*t*t},U=function(t){return 1+--t*t*t*t*t},X=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},j=function(t){return Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1};function F(t,i){void 0===i&&(i=function(){}),Object.keys(t).forEach(i)}function B(t,i){return void 0===i&&(i=function(){}),Object.keys(t).map(i)}function z(t,i,e){if(void 0===i&&(i=-1/0),void 0===e&&(e=1/0),i>e){var n=[e,i];i=n[0],e=n[1]}return t>e&&(t=e),t<i&&(t=i),t}function q(t){return t=Number(t),Number.isNaN(t)?0:t}function Q(t){return"object"==typeof t&&null!==t}function G(t){return t instanceof Date&&!isNaN(t.valueOf())}function K(t,i){var e,n,r=!1;return function a(){if(r)return e=arguments,void(n=this);t.apply(this,arguments),r=!0,setTimeout(function(t){r=!1,e&&(a.apply(n,e),e=n=null)},i)}}function $(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function J(){return"ontouchstart"in document.documentElement}function Z(){var t=!1;try{var i={get passive(){t=!0}};window.addEventListener("test",i,i),window.removeEventListener("test",i,i)}catch(i){t=!1}return t}function tt(t){return void 0===t&&(t=!0),!!Z()&&{passive:t}}var it=function(){return void 0!==window.Worker},et=function(){return void 0!==window.OffscreenCanvas};function nt(){var t=document.createElement("div");return t&&void 0!==t.style.transform}function rt(t){return t?(t=String(t))[0].toUpperCase()+t.substr(1):""}function at(t){return void 0===t&&(t={}),Object.keys(t).reduce(function(i,e){return(i?i+" ":"")+ot(e)+": "+t[e]+";"},"")}function ot(t){return t?((t=String(t))[0].toLowerCase()+t.substr(1)).replace(/([A-Z])/g,"-$1").toLowerCase():""}function st(t){var i=t.split("?").slice(1);return i.length?i[0].split("&").map(function(t){var i,e=t.split("=");return(i={})[e[0]]=e[1],i}).reduce(function(t,i){return Object.assign(t,i)}):{}}function ht(t){return t<10?"0"+t:t}function ut(t,i,e,n){void 0===i&&(i={}),void 0===e&&(e=[]),void 0===n&&(n=null);var r=n?document.createElementNS(n,t):document.createElement(t);return i.attrs&&(i.useNS?At(r,i.attrs,i.attrsNS||null):Ct(r,i.attrs)),(e||Array.isArray(e))&&(e=[].concat(e)).forEach(function(t){"string"==typeof t?/[<>]/i.test(t)?r.innerHTML+=t:r.textContent+=t:r.appendChild(t)}),r}function lt(t){return"string"!=typeof t?t:document.querySelector(t)}function ct(t){if(!t)return{top:0,left:0};try{var i=t.getBoundingClientRect(),e=t.ownerDocument.defaultView;return{top:i.top+e.pageYOffset,left:i.left+e.pageXOffset}}catch(t){return{top:0,left:0}}}function dt(t,i){var e=ct(t),n=ct(i);return{top:e.top-n.top+i.scrollTop,left:e.left-n.left+i.scrollLeft}}function vt(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}function ft(){var t=void 0!==window.pageXOffset,i="CSS1Compat"===(document.compatMode||"");return t?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop}function gt(){return window.innerHeight||(document.documentElement||document.body).clientHeight}function pt(t){return t.innerHeight||t.clientHeight}function _t(t){return t.innerWidth||t.clientWidth}function mt(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)}function xt(t){return Math.max(t.scrollWidth,t.offsetWidth,t.clientWidth)}Number.prototype.format=function(t,i,e,n){void 0===t&&(t=0),void 0===i&&(i=3),void 0===e&&(e=" "),void 0===n&&(n=".");var r="\\d(?=(\\d{"+(i||3)+"})+"+(t>0?"\\D":"$")+")",a=this.toFixed(Math.max(0,~~t));return(n?a.replace(".",n):a).replace(new RegExp(r,"g"),"$&"+(e||" "))};var yt=[];function Ct(t,i){void 0===i&&(i={}),t=lt(t),F(i,function(e){var n=yt.includes(e)?e:ot(e);t.setAttribute(n,i[e])})}function At(t,i,e){void 0===i&&(i={}),void 0===e&&(e=null),t=lt(t),F(i,function(n){var r=yt.includes(n)?n:ot(n);t.setAttributeNS(e,r,i[n])})}function bt(t,i,e,n){n=n||null,t.setAttributeNS(n,i,e)}function wt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function St(t,i){return new RegExp("(\\s|^)"+i+"(\\s|$)").test(t.className)}function Rt(t,i){void 0===i&&(i=[]),i=[].concat(i);for(var e=t.className,n=0;n<i.length;++n)St(t,i[n])||(e+=" "+i[n]);t.className=e.trim()}function Pt(t,i){void 0===i&&(i=[]),i=[].concat(i);for(var e=t.className.split(" "),n=new Set(i),r="",a=0;a<e.length;++a)n.has(e[a])||(r+=" "+e[a]);t.className=r.trim()}function Mt(t,i,e){if(t){t.addEventListener(i,function n(r){e(r),t.removeEventListener(i,n)})}}function Tt(t,i,e){if(void 0===e&&(e=null),!Array.isArray(t)||!Array.isArray(i)||t.length!==i.length)return!1;for(var n=0;n<t.length;++n)if(e){if(t[n][e]!==i[n][e])return!1}else if(t[n]!==i[n])return!1;return!0}function Ot(t,i,e){void 0===i&&(i=0),void 0===e&&(e=t.length-1);for(var n=i,r=i+1;r<=e;++r)t[n]>t[r]&&(n=r);return n}function Et(t,i,e){return void 0===i&&(i=0),void 0===e&&(e=t.length-1),t[Ot(t,i,e)]}function kt(t,i,e){void 0===i&&(i=0),void 0===e&&(e=t.length-1);for(var n=i,r=i+1;r<=e;++r)t[n]<t[r]&&(n=r);return n}function Lt(t,i,e){return void 0===i&&(i=0),void 0===e&&(e=t.length-1),t[kt(t,i,e)]}function Yt(t,i,e){void 0===i&&(i=0),void 0===e&&(e=t.length-1);for(var n=i,r=i,a=i+1;a<=e;++a)t[r]<t[a]&&(r=a),t[n]>t[a]&&(n=a);return[n,r]}function Nt(t,i,e){void 0===i&&(i=0),void 0===e&&(e=t.length-1);var n=Yt(t,i,e),r=n[0],a=n[1];return[t[r],t[a]]}function Vt(t){for(var i=t.length,e=0;i--;)e+=t[i];return e}function It(t){var i=t.length,e=Vt(t);return i&&(e/=i),e}function Wt(t,i,e){void 0===e&&(e=1);var n=0,r=t.length-1;if(!t.length||e*i<e*t[n])return[-1,0];if(e*i>e*t[r])return[r,r+1];for(;r-n>1;){var a=n+(r-n>>1);e*i<=e*t[a]?r=a:n=a}return t[r]===i?n=r:t[n]===i&&(r=n),[n,r]}function Dt(t,i,e,n){void 0===n&&(n=1);var r=0,a=t.length-1;if(!t.length||n*i<n*t[r][e])return[-1,0];if(n*i>n*t[a][e])return[a,a+1];for(;a-r>1;){var o=r+(a-r>>1);n*i<=n*t[o][e]?a=o:r=o}return t[a][e]===i?r=a:t[r][e]===i&&(a=r),[r,a]}function Ht(t,i){void 0===t&&(t=[]),void 0===i&&(i=[]);for(var e=Object.create(null),n=0;n<t.length;++n)e[t[n]]=!0;for(var r=[],a=0;a<i.length;++a)e[i[a]]||r.push(i[a]);return r}function Ut(t,i,e,n,r,a){void 0===a&&(a={});var o=a,s=o.tl,h=void 0===s?0:s,u=o.tr,l=void 0===u?0:u,c=o.bl,d=void 0===c?0:c,v=o.br,f=void 0===v?0:v;t.beginPath(),t.moveTo(i+h,e),t.lineTo(i+n-l,e),t.quadraticCurveTo(i+n,e,i+n,e+l),t.lineTo(i+n,e+r-f),t.quadraticCurveTo(i+n,e+r,i+n-f,e+r),t.lineTo(i+d,e+r),t.quadraticCurveTo(i,e+r,i,e+r-d),t.lineTo(i,e+h),t.quadraticCurveTo(i,e,i+h,e),t.closePath()}function Xt(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var jt=1,Ft=function(){function t(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this._id=jt++,this._type="point",this._x=0,this._y=0,this._canvasX=0,this._canvasY=0,this._x=t,this._y=i}var i,e,n,r=t.prototype;return r.setType=function(t){void 0===t&&(t="point"),this._type=t},r.setX=function(t){this._x=t},r.setY=function(t){this._y=t},r.setXY=function(t,i){this.setX(t),this.setY(i)},r.addX=function(t){this._x+=t},r.addY=function(t){this._y+=t},r.addXY=function(t,i){this.addX(t),this.addY(i)},r.setCanvasX=function(t){this._canvasX=t},r.setCanvasY=function(t){this._canvasY=t},r.setCanvasXY=function(t,i){this._canvasX=t,this._canvasY=i},i=t,(e=[{key:"id",get:function(){return this._id}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"canvasX",get:function(){return this._canvasX}},{key:"canvasY",get:function(){return this._canvasY}},{key:"type",get:function(){return this._type}}])&&Xt(i.prototype,e),n&&Xt(i,n),t}();function Bt(t,i,e){return(Bt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,i,e){var n=[null];n.push.apply(n,i);var r=new(Function.bind.apply(t,n));return e&&zt(r,e.prototype),r}).apply(null,arguments)}function zt(t,i){return(zt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function qt(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Qt=1,Gt={NOT_STARTED:1,RUNNING:2,PAUSED:3,COMPLETED:4,CANCELLED:5},Kt="started",$t="paused",Jt="complete",Zt="cancelled",ti={timeScale:1,duration:500,timingFunction:"linear"},ii=function(t){var i,e;function r(i,e,n,r){var a;return void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r={}),(a=t.call(this)||this)._id=Qt++,a._params={},a._state=Gt.NOT_STARTED,a._timeScale=ti.timeScale,a._timeElapsed=0,a._duration=ti.duration,a._timingFunctionName=ti.timingFunction,a._timingFunction=function(){},a._target=null,a._properties=[],a._targetValues=[],a._startValues=[],a._target=i,a._properties=[].concat(e),a._targetValues=[].concat(n),a._initParams(r),a}e=t,(i=r).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e,r.create=function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return Bt(r,i)};var a,o,s,h=r.prototype;return h.update=function(t){this.isRunning&&(t*=this._timeScale,this._timeElapsed+=t,this._updateAnimation(t),this._checkDuration())},h.start=function(){this.isNotStarted&&(this._startValues=this._getPropertyValues(this._properties)),this._state=Gt.RUNNING,this.emit(Kt)},h.pause=function(){this._state=Gt.PAUSED,this.emit($t)},h.finish=function(){this._state=Gt.COMPLETED,this.emit(Jt,this._timeElapsed),this._dispose()},h.cancel=function(){this._state=Gt.CANCELLED,this.emit(Zt,this._timeElapsed),this._dispose()},h.patchAnimation=function(t){void 0===t&&(t=[]),this._targetValues=t,this._startValues=this._getPropertyValues(this._properties),this._timeElapsed=0},h.setTimeScale=function(t){void 0===t&&(t=1),this._timeScale=t},h._initParams=function(t){var i=this._params=Object.assign({},ti,t),e=i.timeScale,n=i.duration,r=i.timingFunction;this._timeScale=e,this._duration=n,this._timingFunctionName=r,this._timingFunction=this._getTimingFunction(r)},h._updateAnimation=function(t){for(var i=this.progress,e=this._timingFunction(i),n=0,r=this._properties.length;n<r;++n){var a=this._properties[n],o=(this._targetValues[n]-this._startValues[n])*e;this._target[a]=this._startValues[n]+o}},h._checkDuration=function(){this._timeElapsed>=this._duration&&this.finish()},h._getPropertyValues=function(t){void 0===t&&(t=[]);for(var i=[],e=0,n=t.length;e<n;++e)i[e]=this._getPropertyValue(t[e]);return i},h._getPropertyValue=function(t){return this._target[t]||0},h._getTimingFunction=function(t){var i=ti.timingFunction;return n[t]||n[i]},h._dispose=function(){this._params=null,this._timingFunction=null,this._targetValues=null,this._startValues=null,this._properties=null,this._target=null,this.removeAllListeners()},a=r,(o=[{key:"id",get:function(){return this._id}},{key:"isNotStarted",get:function(){return this._state===Gt.NOT_STARTED}},{key:"isRunning",get:function(){return this._state===Gt.RUNNING}},{key:"isPaused",get:function(){return this._state===Gt.PAUSED}},{key:"isCompleted",get:function(){return this._state===Gt.COMPLETED}},{key:"timeScale",get:function(){return this._timeScale}},{key:"duration",get:function(){return this._duration}},{key:"timingFunctionName",get:function(){return this._timingFunctionName}},{key:"timingFunction",get:function(){return this._timingFunction}},{key:"timeRemaining",get:function(){return Math.max(0,Math.min(this._duration,this._duration-this._timeElapsed))}},{key:"progress",get:function(){return Math.min(1,Math.max(0,this._timeElapsed/this._duration))}}])&&qt(a.prototype,o),s&&qt(a,s),r}(r),ei={chart:"chart",navigatorChart:"navigatorChart"};function ni(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ri=1,ai=1,oi=2,si=function(t){var i,e;function n(i,e){var n;return void 0===e&&(e={}),(n=t.call(this)||this)._id=ri++,n.chart=null,n.isLineChart=!1,n.settings={},n.seriesOptions={},n._xAxis=[],n._yAxis=[],n._name=null,n._label=null,n._color="#31a8dc",n.strokeWidth=1,n._visible=!0,n._pathUpdateNeeded=!1,n._points=[],n._localMaxY=0,n._localMinY=0,n._globalMaxY=0,n._globalMinY=0,n.opacity=1,n._opacityAnimation=null,n._opacityAnimationType=null,n.chart=i,n.isLineChart=i.chartType===ei.chart,n.settings=e,n._parseSettings(),n}e=t,(i=n).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e;var r,a,o,s=n.prototype;return s.initialize=function(){this.updateGlobalExtremes()},s.update=function(t){var i=!1;this._pathUpdateNeeded&&(this._pathUpdateNeeded=!1,i=!0),this._opacityAnimation&&this._opacityAnimation.isRunning&&(this._opacityAnimation.update(t),i=!0),i&&(this.chart.redrawChartNeeded=!0)},s.render=function(t){void 0===t&&(t=this.chart.telechart.mainContext),this.draw(t)},s.draw=function(t){this.drawPath(t)},s.drawPath=function(t){if(this.opacity){var i=this.chart._viewportPointsIndexes;!i.length||i[1]-i[0]<=0||this.drawPathByInterval(t,i,this.chart._viewportPointsStep)}},s.drawPathByInterval=function(t,i,e){void 0===e&&(e=1),t.globalAlpha=this.opacity,t.strokeStyle=this._color,t.lineWidth=this.strokeWidth,t.lineJoin="bevel",t.lineCap="butt",t.beginPath(),this._drawPathToContext(t,i,e),t.stroke()},s.setVisible=function(){this._visible=!0,this._createShowAnimation(),this.emit("visibleChange",this._visible)},s.setInvisible=function(){this._visible=!1,this._createHideAnimation(),this.emit("visibleChange",this._visible)},s.toggleVisible=function(){this._visible?this.setInvisible():this.setVisible()},s.updateLocalExtremes=function(){var t=this.chart._viewportRangeIndexes,i=t[0],e=t[1],n=Nt(this._yAxis,i,e),r=n[0],a=n[1];this._localMinY=r,this._localMaxY=a},s.updateGlobalExtremes=function(){var t=Nt(this._yAxis,0,this._xAxis.length-1),i=t[0],e=t[1];this._globalMinY=i,this._globalMaxY=e},s.requestPathUpdate=function(){this._pathUpdateNeeded=!0},s._parseSettings=function(){var t=this.settings,i=t.xAxis,e=t.yAxis,n=t.label,r=(t.type,t.color),a=t.name,o=t.options,s=void 0===o?{}:o;this._xAxis=i,this._yAxis=e,this._label=n,this._color=r,this._name=a;var h=s.strokeWidth,u=void 0===h?1:h;this.strokeWidth=u,this.seriesOptions=s},s._createPoints=function(){for(var t=this._xAxis,i=this._yAxis,e=0;e<t.length;++e)this._points.push(new Ft(t[e],i[e]))},s._createShowAnimation=function(){this._opacityAnimation&&this._opacityAnimationType===oi||(this._createOpacityAnimation(1),this._opacityAnimationType=oi)},s._createHideAnimation=function(){this._opacityAnimation&&this._opacityAnimationType===ai||(this._createOpacityAnimation(0),this._opacityAnimationType=ai)},s._createOpacityAnimation=function(t){var i=this;this._opacityAnimation=new ii(this,"opacity",t,{duration:300,timingFunction:"easeInOutQuad"});var e=function(t){i._opacityAnimation=null,i._opacityAnimationType=null,i.requestPathUpdate()};this._opacityAnimation.on(Jt,e),this._opacityAnimation.on(Zt,e),this._opacityAnimation.start()},s._drawPathToContext=function(t,i,e,n){void 0===e&&(e=1),void 0===n&&(n={});var r=n||{},a=r.viewportRange,o=void 0===a?this.chart.viewportRange:a,s=r.viewportPixelX,h=void 0===s?this.chart.viewportPixelX:s,u=r.viewportPixelY,l=void 0===u?this.chart.viewportPixelY:u,c=r.currentLocalMinY,d=void 0===c?this.chart.currentLocalMinY:c,v=i[0],f=i[1],g=o[0],p=this.chart.chartHeight,_=this.chart.seriesOffsetTop+p,m=g/h,x=d/l;t.moveTo(this._xAxis[v]/h-m,_-(this._yAxis[v]/l-x));for(var y=v+1;y<=f;y+=e)t.lineTo(this._xAxis[y]/h-m,_-(this._yAxis[y]/l-x))},r=n,(a=[{key:"id",get:function(){return this._id}},{key:"yAxis",get:function(){return this._yAxis}},{key:"label",get:function(){return this._label}},{key:"color",get:function(){return this._color}},{key:"name",get:function(){return this._name}},{key:"isVisible",get:function(){return this._visible}},{key:"localMinY",get:function(){return this._localMinY}},{key:"localMaxY",get:function(){return this._localMaxY}},{key:"globalMinY",get:function(){return this._globalMinY}},{key:"globalMaxY",get:function(){return this._globalMaxY}},{key:"opacityAnimationType",get:function(){return this._opacityAnimationType}},{key:"isShowing",get:function(){return this._opacityAnimationType===oi}},{key:"isHiding",get:function(){return this._opacityAnimationType===ai}}])&&ni(r.prototype,a),o&&ni(r,o),n}(r),hi="seriesVisibleChange",ui="forceButtonsUpdate",li="showCursor",ci="hideCursor",di="redrawCursor",vi="translateMarkers";function fi(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var gi=1,pi=2,_i=3,mi=function(t){var i,e;function n(i){var e;return(e=t.call(this)||this).chart=null,e.axesValues=[],e.elements=[],e.updateAnimationsNeeded=!1,e.redrawNeeded=!0,e.fontSize=12,e.chart=i,e}e=t,(i=n).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e;var r,a,o,s=n.prototype;return s.initialize=function(){this.updateValues(),this.initializeWrappers()},s.update=function(t){this.hasActiveAnimations&&this.animationTick(t),this.updateAnimationsNeeded&&(this.updateAnimations(),this.updateAnimationsNeeded=!1)},s.render=function(){(this.redrawNeeded||this.chart.telechart.forceRedraw)&&(this.redraw(),this.redrawNeeded=!1)},s.redraw=function(){},s.requestUpdateAnimations=function(){this.updateAnimationsNeeded=!0},s.requestRedraw=function(){this.redrawNeeded=!0},s.animationTick=function(t){for(var i=!1,e=0;e<this.elements.length;++e)this.elements[e].animation&&(this.elements[e].animation.update(t),this.redrawNeeded=!0,i=!0);this.hasActiveAnimations=i},s.updateAnimations=function(){var t=this.axesValues;this.updateValues();var i=Ht(this.axesValues,t),e=this.axesValues.filter(function(i){return-1===t.indexOf(i)});this.createNewElements(e),this.deleteOldElements(i)},s.createNewElements=function(t){for(var i=0;i<t.length;++i){var e=t[i],n=this._getElementByValue(e),r=!1;if(n){if(n.state===gi)continue;n.state===_i&&n.animation&&n.animation.cancel()}n||(n=this.initializeWrapper(e),r=!0),this.createShowingAnimation(n),r&&this.elements.push(n)}},s.initializeWrapper=function(t){},s.deleteOldElements=function(t){for(var i=0;i<t.length;++i){var e=t[i],n=this._getElementByValue(e);if(n&&n.state!==_i){if(n.state===pi){var r=n.animation;r&&r.cancel()}this.createHidingAnimation(n)}}},s.createShowingAnimation=function(t){if(1===t.opacity)return t.state=gi;var i=new ii(t,"opacity",1,{duration:250,timingFunction:"easeInOutQuad"});i.on(Jt,function(i){t.animation=null,t.state=gi}),i.start(),t.animation=i,t.state=pi,this.hasActiveAnimations=!0},s.createHidingAnimation=function(t){var i=this,e=new ii(t,"opacity",0,{duration:250,timingFunction:"easeInOutQuad"});e.on(Jt,function(e){t.animation=null,t.state=gi,i.detachElement(t)}),e.start(),t.animation=e,t.state=_i,this.hasActiveAnimations=!0},s.detachElement=function(t){var i=t.value,e=this._getElementIndexByValue(i);this.elements.splice(e,1)},s.initializeWrappers=function(){for(var t=this.axesValues,i=0;i<t.length;++i){var e=this.initializeWrapper(t[i]);e.state=gi,e.opacity=1,this.elements.push(e)}},s.computeAxisValues=function(){return[]},s.updateValues=function(){this.axesValues=this.computeAxisValues()},s.onChartResize=function(){this.redrawNeeded=!0,this.redraw()},s.eachElement=function(t){void 0===t&&(t=function(){});for(var i=0;i<this.elements.length;++i)t(this.elements[i])},s._getElementByValue=function(t){for(var i=0;i<this.elements.length;++i){if(t===this.elements[i].value)return this.elements[i]}},s._getElementIndexByValue=function(t){for(var i=0;i<this.elements.length;++i)if(t===this.elements[i].value)return i;return-1},r=n,(a=[{key:"textColor",get:function(){return this.chart.telechart.themeColors.axisTextColor}},{key:"textColorAlpha",get:function(){return this.chart.telechart.themeColors.axisTextColorAlpha}}])&&fi(r.prototype,a),o&&fi(r,o),n}(r);function xi(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var yi=function(t){var i,e;function n(i,e){var n;return(n=t.call(this,i)||this).isDoubleAxis=!1,n.isDoubleAxis=e,n}e=t,(i=n).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e;var r,a,o,s=n.prototype;return s.redraw=function(){var t=this.chart.telechart.axisContext;t.clearRect(0,0,this.chart.chartWidth,this.chart.chartHeight+this.chart.seriesOffsetTop+1),this.drawLeft(t,!0)},s.drawLeft=function(t,i){void 0===i&&(i=!1);var e=this.textColorLeft,n=this.textColorLeftAlpha,r=this.axesColor,a=this.axesColorAlpha,o=this.fontSize;t.font=o+"px Arial",t.fillStyle=e,t.textAlign="left",t.strokeStyle=r,t.lineWidth=1;for(var s=this.chart.viewportPadding,h=this.chart.chartWidth-2*this.chart.viewportPadding,u=0;u<this.elements.length;++u){var l=this.elements[u],c=this._computeValuePosition(l.value);t.globalAlpha=n*l.opacity,t.fillText(l.formattedValue,s,c-5),i&&(t.globalAlpha=a*l.opacity,t.beginPath(),t.moveTo(s,c),t.lineTo(s+h,c),t.stroke())}},s.computeAxisValues=function(){var t=this.chart,i=this.chart.computeViewportPixelY(t.localMinY,t.localMaxY),e=t.localMinY,n=t.localMaxY-(this.chart.seriesOffsetTop+this.fontSize)*i-e;if(!n)return[];for(var r=n/5,a=e,o=[a],s=0;s<6;++s)o.unshift(a+r),a+=r;return o},s.initializeWrapper=function(t){return{value:t,formattedValue:this._formatNumber(t),opacity:0,animation:null,state:pi}},s.updateValues=function(){t.prototype.updateValues.call(this)},s._computeValuePosition=function(t){return this.chart.projectYToCanvas(t)},s._roundValue=function(t){return~~(t+.5)},s._formatNumber=function(t){var i=Math.abs(q(t)),e="";return 1*(i>=1e9?(e="B",i/1e9):i>=1e6?(e="M",i/1e6):i>=1e3?(e="K",i/1e3):i).toFixed(e?1:0)+e},r=n,(a=[{key:"textColorLeft",get:function(){return this.chart.isYScaled?this.chart._series[0].color:this.textColor}},{key:"textColorLeftAlpha",get:function(){return this.chart.isYScaled?1:this.textColorAlpha}},{key:"textColorRight",get:function(){return this.chart.isYScaled?this.chart._series[1].color:this.textColor}},{key:"textColorRightAlpha",get:function(){return this.chart.isYScaled?1:this.textColorAlpha}},{key:"axesColor",get:function(){return this.chart.telechart.themeColors.axisColor}},{key:"axesColorAlpha",get:function(){return this.chart.telechart.themeColors.axisColorAlpha}}])&&xi(r.prototype,a),o&&xi(r,o),n}(mi);var Ci=function(t){var i,e;function n(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this).axesValuesMapping={},i.labelWidth=37,i.interval=null,i}e=t,(i=n).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e;var r=n.prototype;return r.redraw=function(){var t=this.chart.telechart.axisContext,i=this.chart.chartHeight+this.chart.seriesOffsetTop+1;t.clearRect(0,i,this.chart.chartWidth,this.chart.seriesOffsetBottom),this.draw(t)},r.draw=function(t){var i=this.textColor,e=this.textColorAlpha,n=this.fontSize;t.font=n+"px Arial",t.fillStyle=i,t.textAlign="center";for(var r=this.chart.chartHeight+this.chart.seriesOffsetTop+this.fontSize+4,a=0;a<this.elements.length;++a){var o=this.elements[a],s=this._computeValuePosition(this.axesValuesMapping[o.value]);t.globalAlpha=e*o.opacity,t.fillText(o.formattedValue,s,r)}},r.computeAxisValues=function(){var t=this.chart,i=t.chartWidth,e=this.chart.viewportPixelX,n=t.viewportRange[0],r=t.viewportRange[1];if(!(r-n))return[];var a=i/60;null==this.interval&&(this.interval=e*i/a);var o=this.interval/e;o<60?this.interval*=2:o>120&&(this.interval*=.5);var s=r-60*e/2;if(this.axesValues.length>0){for(var h=!1,u=this.axesValues.length-1;u>=0;--u){var l=this.axesValuesMapping[this.axesValues[u]],c=l-this.interval,d=l+this.interval;if(r>c&&r<d){s=l,h=!0;break}}var v=this.axesValuesMapping[this.axesValues[this.axesValues.length-1]];!h&&v+2*this.interval>=r&&(s=v+this.interval)}for(var f=[];s>=n;)f.unshift(s),s-=this.interval;return f},r.initializeWrapper=function(t,i){void 0===i&&(i=!1);var e=this._toDateString(t),n=e.split(" ");return{value:t,formattedValue:e=[n[0],n[1]].join(" "),opacity:0,animation:null,state:pi}},r.updateValues=function(){var i=this;t.prototype.updateValues.call(this);for(var e=this.axesValues.map(function(t){return i._toDateString(t)}),n=0;n<e.length;++n)this.axesValuesMapping[e[n]]=this.axesValues[n];this.axesValues=e},r._computeValuePosition=function(t){return this.chart.projectXToCanvas(t)},r._toDateString=function(t,i){void 0===i&&(i=!1);var e=new Date(t),n=e.toUTCString().split(" "),r=n[2]+" "+n[1]+" "+e.getFullYear();return i?ht(e.getHours())+":"+ht(e.getMinutes())+" "+r:r},n}(mi);function Ai(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var bi=1,wi=function(t){var i,e;function n(i,e){var n;return void 0===e&&(e={}),(n=t.call(this)||this)._id=bi++,n._type="",n.telechart=null,n.options=null,n._groupingPixels=2,n._xAxis=[],n._series=[],n._viewportRange=[],n._viewportRangeIndexes=[],n._viewportPointsIndexes=[0,0],n._viewportPointsStep=1,n._viewportDistance=0,n._viewportPixelX=0,n._viewportPixelY=0,n._viewportPadding=13,n._viewportLeftPaddingScale=0,n._viewportRightPaddingScale=0,n._viewportRangeUpdateNeeded=!1,n._viewportPointsGroupingNeeded=!1,n._localMinY=0,n._localMaxY=0,n._globalMinY=0,n._globalMaxY=0,n._currentLocalMinY=null,n._currentLocalMaxY=null,n._minMaxYAnimation=null,n._minMaxYAnimationSign=null,n._rangeAnimation=null,n._rangeAnimationObject={},n.cursorInsideChart=!1,n.axisCursorPositionX=0,n.axisCursorPointIndex=0,n._yAxisView=null,n._xAxisView=null,n.redrawChartNeeded=!0,n.isYScaled=!1,n.isPercentage=!1,n.isStacked=!1,n.telechart=i,n.options=e,n}e=t,(i=n).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e;var r,a,o,s=n.prototype;return s.initialize=function(){this.createSeries(),this.addEvents(),this.setInitialRange(),this.approximateViewportPoints(),this.isChart&&(this.initializeAxisY(),this.initializeAxisX())},s.update=function(t){var i=!1,e=!1,n=this._minMaxYAnimation,r=n&&n.isRunning;r&&(this._minMaxYAnimation.update(t),i=!0,e=!0);var a=this._rangeAnimation&&this._rangeAnimation.isRunning;(this._viewportRangeUpdateNeeded||a)&&(a?(this._rangeAnimation.update(t),this.updateViewportRange([this._rangeAnimationObject.from,this._rangeAnimationObject.to],{skipExtremes:!1})):this.updateViewportRange(),this._viewportRangeUpdateNeeded=!1,i=!0,e=!0),this._viewportPointsGroupingNeeded&&(this.approximateViewportPoints(),this._viewportPointsGroupingNeeded=!1),r&&this.updateViewportPixel(),this.eachSeries(function(e){var n=e.isHiding||e.isShowing;(r||n)&&(e.requestPathUpdate(),i=!0),e.update(t)}),this._yAxisView&&(e&&this._yAxisView.requestRedraw(),this._yAxisView.update(t)),this._xAxisView&&(e&&this._xAxisView.requestRedraw(),this._xAxisView.update(t)),this.redrawChartNeeded=this.redrawChartNeeded||i},s.render=function(){(this.redrawChartNeeded||this.telechart.forceRedraw)&&(this.redrawChart(),this.redrawChartNeeded=!1),this._yAxisView&&this._yAxisView.render(),this._xAxisView&&this._xAxisView.render()},s.redrawChart=function(){},s.createSeries=function(){var t=this.options||{},i=t.series,e=t.seriesOptions,n=void 0===e?{}:e,r=n.grouping;r&&r.pixels&&(this._groupingPixels=q(r.pixels));var a=i.columns,o=i.types,s=i.colors,h=i.names,u=i.y_scaled,l=void 0!==u&&u,c=i.percentage,d=void 0!==c&&c,v=i.stacked,f=void 0!==v&&v;this.isYScaled=l,this.isPercentage=d,this.isStacked=f;var g=a.findIndex(function(t){return o[t[0]]===C}),p=this._xAxis=a[g].slice(1),_=a.slice();_.splice(g,1);for(var m=0;m<_.length;++m){var x=_[m].slice(),y=x.shift(),A={xAxis:p,yAxis:x,label:y,type:o[y],color:s[y],name:h[y],options:this.extendSeriesOptions(n)},b=new si(this,A);b.initialize(),this._series.push(b)}},s.initializeAxisY=function(){var t=new yi(this,this.isYScaled);t.initialize(),this._yAxisView=t},s.initializeAxisX=function(){var t=new Ci(this);t.initialize(),this._xAxisView=t},s.setInitialRange=function(){this.setViewportRange()},s.animateViewportRangeTo=function(t,i,e){var n=this;void 0===t&&(t=-1/0),void 0===i&&(i=1/0),void 0===e&&(e={});var r=e,a=r.duration,o=void 0===a?300:a,s=r.timingFunction,h=void 0===s?"easeInOutQuad":s,u=r.preservePadding,l=void 0!==u&&u,c=this._clampViewportRange(t,i,l),d=c[0],v=c[1];if(this._rangeAnimation)return this._rangeAnimation.patchAnimation([d,v]);this._rangeAnimationObject={from:this._viewportRange[0],to:this._viewportRange[1]},this._rangeAnimation=new ii(this._rangeAnimationObject,["from","to"],[d,v],{duration:o,timingFunction:h});var f=function(t){n._rangeAnimation=null};this._rangeAnimation.on(Jt,f),this._rangeAnimation.on(Zt,f),this._rangeAnimation.start()},s.setViewportRange=function(t,i,e){void 0===t&&(t=-1/0),void 0===i&&(i=1/0);var n=void 0===e?{}:e,r=n.skipExtremes,a=void 0!==r&&r,o=n.preservePadding,s=void 0!==o&&o;this._setViewportRange(t,i,s);var h=this._viewportRangeIndexes;this._updateViewportIndexes();var u=!1;Tt(this._viewportRangeIndexes,h)||(h.length>0&&(this._viewportPointsGroupingNeeded=!0),this._xAxisView&&this._xAxisView.requestUpdateAnimations(),u=!0);var l=!a&&u;this.eachSeries(function(t){l&&t.updateLocalExtremes(),t.requestPathUpdate()}),l&&this.updateLocalExtremes(),this.updateViewportPixel(),this._xAxisView&&this._xAxisView.requestUpdateAnimations(),this.emit(di)},s.updateViewportRange=function(t,i){void 0===t&&(t=this._viewportRange),void 0===i&&(i={});var e=i,n=e.skipExtremes,r=void 0===n||n,a=e.preservePadding,o=void 0===a||a;this.setViewportRange(t[0],t[1],{skipExtremes:r,preservePadding:o})},s.approximateViewportPoints=function(){var t=this._viewportRangeIndexes,i=t[0],e=t[1];if(i=Math.max(0,i-1),(e=Math.min(this._xAxis.length-1,e+1))-i<100&&!this.isNavigatorChart)return this._viewportPointsIndexes[0]=i,this._viewportPointsIndexes[1]=e,void(this._viewportPointsStep=1);for(var n=(1+this._xAxis.length>300?Math.max(0,(e-i)/this._xAxis.length):1)*this._groupingPixels*this._viewportPixelX,r=i,a=1,o=i+1;o<=e;++o){if(this._xAxis[o]-this._xAxis[r]>=n||o===e)if(r!==o-1)if(1===a){a=o-1-r;break}}for(a=Math.pow(2,Math.floor(Math.log2(a)));i%a!=0;)i--;for(;e%a!=0;)e++;e=Math.min(e,this._xAxis.length-1),this._viewportPointsIndexes[0]=i,this._viewportPointsIndexes[1]=e,this._viewportPointsStep=a},s.updateLocalExtremes=function(){var t=1/0,i=0,e=1/0,n=0;this.eachSeries(function(r){e>r.globalMinY&&(e=r.globalMinY),n<r.globalMaxY&&(n=r.globalMaxY),r.isVisible&&(t>r.localMinY&&(t=r.localMinY),i<r.localMaxY&&(i=r.localMaxY))});var r=this._localMinY,a=this._localMaxY;this._localMinY=t,this._localMaxY=i,this._globalMinY=e,this._globalMaxY=n;var o=!1;"number"!=typeof this._currentLocalMinY?this._currentLocalMinY=this._localMinY:this._localMinY!==r&&(o=!0),"number"!=typeof this._currentLocalMaxY?this._currentLocalMaxY=this._localMaxY:this._localMaxY!==a&&(o=!0),o&&(this._updateOrCreateMinMaxYAnimation(),this._yAxisView&&this._yAxisView.requestUpdateAnimations())},s.computeViewportPixelX=function(t,i){return void 0===t&&(t=this._viewportRange[0]),void 0===i&&(i=this._viewportRange[1]),(i-t)/this.chartWidth},s.computeViewportPixelY=function(t,i){return void 0===t&&(t=this._currentLocalMinY),void 0===i&&(i=this._currentLocalMaxY),(i-t)/this.chartHeight},s.updateViewportPixel=function(){this._viewportPixelX=this._viewportDistance/this.chartWidth,this._viewportPixelY=this.currentLocalExtremeDifference/this.chartHeight},s.computeViewportPadding=function(t,i){return this.computeViewportPixelX(t,i)*this._viewportPadding},s.addEvents=function(){var t=this;this.telechart.on("resize",function(i){t.onResize()}),this.eachSeries(function(i){i.on("visibleChange",function(e){t.onSeriesVisibleChange(i)})})},s.onResize=function(){this._viewportRangeUpdateNeeded=!0,this._viewportPointsGroupingNeeded=!0,this._yAxisView&&this._yAxisView.onChartResize(),this._xAxisView&&this._xAxisView.onChartResize(),this.redrawChartNeeded=!0,this.redrawChart(),this.emit(di)},s.onSeriesVisibleChange=function(t){this.updateLocalExtremes(),this.emit(hi,t)},s.getSeriesByLabel=function(t){return this.findSeries(function(i){return i.label===t})},s.setSeriesVisible=function(t){var i=this.getSeriesByLabel(t);i&&i.setVisible()},s.setSeriesInvisible=function(t){var i=this.getSeriesByLabel(t);i&&i.setInvisible()},s.toggleSeries=function(t){var i=this.getSeriesByLabel(t);i&&(i.toggleVisible(),this._setInsideChartState(!1,!0))},s.toggleAllSeriesExcept=function(t){var i=this.getSeriesByLabel(t);if(i&&!i.isVisible)this.eachSeries(function(i){i.label===t?i.setVisible():i.setInvisible()});else{for(var e=!0,n=0;n<this._series.length;++n)if(this._series[n].isVisible&&this._series[n].label!==t){e=!1;break}e?this.eachSeries(function(i){i.label===t?i.setInvisible():i.setVisible()}):this.eachSeries(function(i){i.label!==t&&i.setInvisible()})}this.emit(ui),this._setInsideChartState(!1,!0)},s.findSeries=function(t){for(var i=0;i<this._series.length;++i)if(t(this._series[i]))return this._series[i]},s.eachSeries=function(t){void 0===t&&(t=function(){});for(var i=0;i<this._series.length;++i)t(this._series[i],i)},s.extendSeriesOptions=function(t){return t},s.setChartType=function(t){this._type=t},s.projectXToCanvas=function(t){return this.toRelativeX(t)/this._viewportPixelX},s.projectYToCanvas=function(t){return z(this.seriesOffsetTop+this.chartHeight-(t-this._currentLocalMinY)/this._viewportPixelY||0,-1e6,1e6)},s.projectCursorToX=function(t){var i=t.pageX,e=void 0===i?0:i,n=(t.pageY,e-this.telechart.canvasOffset.left);return this.viewportRange[0]+n*this.viewportPixelX},s.emitEvent=function(t,i){switch(t){case"mousemove":this._onMouseMove(i);break;case"mouseleave":this._onMouseLeave(i);break;case"touchstart":this._onTouchStart(i);break;case"touchmove":this._onTouchMove(i);break;case"touchend":this._onTouchEnd(i)}},s.toRelativeX=function(t){return t-this._viewportRange[0]},s._updateViewportIndexes=function(){var t=this._viewportRange,i=t[0],e=t[1],n=Wt(this._xAxis,i),r=(n[0],n[1]),a=Wt(this._xAxis,e),o=a[0];a[1];this._viewportRangeIndexes=[r,o]},s._setViewportRange=function(t,i,e){void 0===e&&(e=!1);var n=this._clampViewportRange(t,i,e),r=n[0],a=n[1];this._viewportRange=[r,a],this._viewportDistance=a-r},s._clampViewportRange=function(t,i,e){void 0===e&&(e=!1);var n=this._xAxis,r=n[0],a=n[n.length-1];if(G(t)&&(t=t.getTime()),G(i)&&(i=i.getTime()),t>i){var o=[i,t];t=o[0],i=o[1]}var s=z(t,r,a),h=z(i,r,a),u=this.computeViewportPadding(s,h),l=z(s-t,0,u),c=z(i-h,0,u);return e||(this._viewportLeftPaddingScale=l/u),this._viewportLeftPaddingScale>0&&(s-=u*this._viewportLeftPaddingScale),e||(this._viewportRightPaddingScale=c/u),this._viewportRightPaddingScale>0&&(h+=u*this._viewportRightPaddingScale),[s,h]},s._updateOrCreateMinMaxYAnimation=function(){return this._minMaxYAnimation?this.currentLocalExtremeDifference<this.localExtremeDifference!==this._minMaxYAnimationSign?this._createMinMaxYAnimation():void this._patchMinMaxYAnimation():this._createMinMaxYAnimation()},s._createMinMaxYAnimation=function(){var t=this;this._minMaxYAnimation&&this._minMaxYAnimation.cancel(),this._updateMinMaxAnimationSign(),this._minMaxYAnimation=new ii(this,["_currentLocalMinY","_currentLocalMaxY"],[this._localMinY,this._localMaxY],{duration:300,timingFunction:"easeInOutQuad"});var i=function(i){t._minMaxYAnimation=null};this._minMaxYAnimation.on(Jt,i),this._minMaxYAnimation.on(Zt,i),this._minMaxYAnimation.start()},s._patchMinMaxYAnimation=function(){this._minMaxYAnimation.patchAnimation([this._localMinY,this._localMaxY])},s._updateMinMaxAnimationSign=function(){this._minMaxYAnimationSign=this.currentLocalExtremeDifference<this.localExtremeDifference},s._onMouseMove=function(t){this._onCursorMove(t)},s._onMouseLeave=function(t){this._onCursorLeave()},s._onTouchStart=function(t){var i=t.targetTouches[0];this._onCursorMove(i)},s._onTouchMove=function(t){var i=t.targetTouches[0];this._onCursorMove(i)},s._onTouchEnd=function(t){this._onCursorLeave()},s._onCursorMove=function(t){var i=this._insideChart(t);if(this._setInsideChartState(i),i){var e=this.axisCursorPointIndex,n=this.projectCursorToX(t);this.axisCursorPointIndex=this._findPointIndexByCursor(n),this.axisCursorPositionX=this._xAxis[this.axisCursorPointIndex];var r=this.axisCursorPointIndex!==e;r&&(this.emit(vi,[this.axisCursorPositionX,this._xAxis[e]]),this.emit(di)),this._updateLabel(r)}},s._updateLabel=function(t){void 0===t&&(t=!0);var i={changed:t,lines:this._prepareLabelData(),viewportRange:this._viewportRange};this.telechart.isWorker?this.telechart.global.postMessage({type:m,data:i}):this.telechart.dedicatedApi.updateDataLabel(i)},s._findPointIndexByCursor=function(t){var i=Wt(this.xAxis,t),e=i[0],n=i[1],r=null;if(e<0&&n>=0)r=n;else if(e>=0&&n>=this.xAxis.length)r=e;else{var a=Math.abs(t-this.xAxis[e])<=Math.abs(t-this.xAxis[n]),o=this.xAxis[e]>=this.viewportRange[0],s=this.xAxis[n]<=this.viewportRange[1];r=a?o?e:n:s?n:e}return r},s._onCursorLeave=function(){this._setInsideChartState(!1)},s._setInsideChartState=function(t,i){var e=this;if(void 0===i&&(i=!1),this.cursorInsideChart!==t||i){this.cursorInsideChart=t,this._markerHideTimeout&&(clearTimeout(this._markerHideTimeout),this._markerHideTimeout=null);var n=function(i){e._onCursorInsideChartChanged(t)};t||i?n():this._markerHideTimeout=setTimeout(n,2e3)}},s._onCursorInsideChartChanged=function(t){t?this._showCursor():this._hideCursor(),this._toggleDataLabelVisibility(t)},s._toggleDataLabelVisibility=function(t){this.telechart.isWorker?this.telechart.global.postMessage({type:x,visibility:t}):this.telechart.dedicatedApi.setDataLabelVisibility(t)},s._showCursor=function(){this.emit(li)},s._hideCursor=function(){this.emit(ci)},s._insideChart=function(t){t.pageX,t.pageY;return!0},s._prepareLabelData=function(){var t=this,i=[],e=this.axisCursorPointIndex,n=this._xAxis[e];return this.eachSeries(function(r){i.push({color:r.color,label:r.label,name:r.name,visible:r.isVisible,x:n,y:r._yAxis[e],canvasY:t.projectYToCanvas(r._yAxis[e]),canvasX:t.projectXToCanvas(r._xAxis[e])})}),i},r=n,(a=[{key:"id",get:function(){return this._id}},{key:"chartType",get:function(){return this._type}},{key:"isChart",get:function(){return this._type===ei.chart}},{key:"isNavigatorChart",get:function(){return this._type===ei.navigatorChart}},{key:"xAxis",get:function(){return this._xAxis}},{key:"viewportRange",get:function(){return this._viewportRange}},{key:"viewportRangeIndexes",get:function(){return this._viewportRangeIndexes}},{key:"viewportPixelX",get:function(){return this._viewportPixelX}},{key:"viewportPixelY",get:function(){return this._viewportPixelY}},{key:"viewportPadding",get:function(){return this._viewportPadding}},{key:"localExtremeDifference",get:function(){return this._localMaxY-this._localMinY}},{key:"globalExtremeDifference",get:function(){return this._globalMaxY-this._globalMinY}},{key:"currentLocalExtremeDifference",get:function(){return this._currentLocalMaxY-this._currentLocalMinY}},{key:"localMinY",get:function(){return this._localMinY}},{key:"localMaxY",get:function(){return this._localMaxY}},{key:"globalMinY",get:function(){return this._globalMinY}},{key:"globalMaxY",get:function(){return this._globalMaxY}},{key:"currentLocalMinY",get:function(){return this._currentLocalMinY}},{key:"currentLocalMaxY",get:function(){return this._currentLocalMaxY}},{key:"chartWidth",get:function(){return this.telechart.canvasWidth}},{key:"chartHeight",get:function(){return b.mainChartHeight}},{key:"minMaxYAnimation",get:function(){return this._minMaxYAnimation}},{key:"seriesOffsetTop",get:function(){return b.mainChartOffsetTop}},{key:"seriesOffsetBottom",get:function(){return b.mainChartOffsetBottom}},{key:"series",get:function(){return this._series}}])&&Ai(r.prototype,a),o&&Ai(r,o),n}(r);function Si(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ri=1,Pi="started",Mi="paused",Ti="paused",Oi={NOT_STARTED:1,RUNNING:2,PAUSED:4,FINISHED:6},Ei=function(t){var i,e;function n(i,e,n){var r;return void 0===n&&(n={}),(r=t.call(this)||this)._id=Ri++,r._timeScale=1,r._state=Oi.NOT_STARTED,r._velocity=1,r._acceleration=0,r._fromPosition=null,r._toPosition=null,r._currentPosition=0,r._startPosition=0,r._options={},r._fromPosition=i,r._toPosition=e,r._initOptions(n),r}e=t,(i=n).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e;var r,a,o,s=n.prototype;return s.update=function(t){this.isRunning&&(this._updateVelocity(t),this._updateCurrentPosition(t))},s.start=function(){this.isRunning||(this._state=Oi.RUNNING,this._startPosition=this._fromPosition,this._currentPosition=this._startPosition,this.emit(Pi))},s.pause=function(){this._state=Oi.PAUSED,this.emit(Mi)},s.finish=function(){this._state=Oi.FINISHED,this.emit(Ti),this._dispose()},s.reset=function(){this._state=Oi.NOT_STARTED,this._initOptions(this._options),this._currentPosition=this._fromPosition,this._startPosition=this._fromPosition},s.setToPosition=function(t){this._toPosition=t},s.setAcceleration=function(t){this._acceleration=t},s.setTimeScale=function(t){this._timeScale=t},s.setVelocity=function(t){this._velocity=t},s._initOptions=function(t){this._options=t;var i=t.timeScale,e=void 0===i?1:i,n=t.velocity,r=void 0===n?1:n,a=t.maxVelocity,o=void 0===a?1:a,s=t.acceleration,h=void 0===s?0:s;this._timeScale=e,this._velocity=r,this._maxVelocity=o,this._acceleration=h},s._updateCurrentPosition=function(t){if(null===this._toPosition)return this.dispose();var i=Math.sign(this._toPosition-this._currentPosition);this._currentPosition+=i*this._computeDeltaDistance(t),this.distanceToDestination<.1&&this.finish()},s._updateVelocity=function(t){this._acceleration&&(this._velocity=Math.min(this._maxVelocity,this._velocity+P(this._acceleration,t)))},s._computeDeltaDistance=function(t){var i=this._timeScale*(this._velocity*t+this._acceleration*t*t*.5);return Math.min(i,this.distanceToDestination)},s._dispose=function(){this._fromPosition=null,this._toPosition=null,this._currentPosition=null,this._startPosition=null,this._options=null,this.removeAllListeners()},r=n,(a=[{key:"timeScale",get:function(){return this._timeScale}},{key:"id",get:function(){return this._id}},{key:"velocity",get:function(){return this._velocity}},{key:"isRunning",get:function(){return this._state===Oi.RUNNING}},{key:"isPaused",get:function(){return this._state===Oi.PAUSED}},{key:"isFinished",get:function(){return this._state===Oi.FINISHED}},{key:"fromPosition",get:function(){return this._fromPosition}},{key:"toPosition",get:function(){return this._toPosition}},{key:"startPosition",get:function(){return this._startPosition}},{key:"currentPosition",get:function(){return this._currentPosition}},{key:"distanceToDestination",get:function(){return Math.abs(this._toPosition-this._currentPosition)}}])&&Si(r.prototype,a),o&&Si(r,o),n}(r);function ki(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Li={inactive:0,showing:1,hiding:2},Yi=function(t){var i,e;function n(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this)._type=ei.chart,i._firstCursorAnimation=!0,i.redrawCursorRequested=!1,i.cursorAnimation=null,i.cursorOpacityAnimation=null,i.cursorOpacity=0,i.cursorAnimationType=Li.inactive,i}e=t,(i=n).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e;var r,a,o,s=n.prototype;return s.initialize=function(){t.prototype.initialize.call(this),this.addCursorEvents()},s.update=function(i){t.prototype.update.call(this,i);var e=!1;this.hasCursorOpacityAnimation&&(this.cursorOpacityAnimation.update(i),e=!0),this.hasCursorAnimation&&(this.cursorAnimation.update(i),e=!0),this.minMaxYAnimation&&this.minMaxYAnimation.isRunning&&(e=!0),e&&this.requestRedrawCursor()},s.render=function(){t.prototype.render.call(this),this.redrawUIOverlay()},s.redrawChart=function(){this.telechart.mainContext.clearRect(0,0,this.chartWidth,b.mainMaxHeight),this.eachSeries(function(t){t.render()})},s.redrawUIOverlay=function(){(this.redrawCursorRequested||this.telechart.forceRedraw)&&(this.redrawCursor(),this.redrawMarkers(),this.redrawCursorRequested=!1)},s.requestRedrawCursor=function(){this.redrawCursorRequested=!0},s.redrawCursor=function(){var t=this.telechart.uiContext,i=this.telechart.themeColors;t.clearRect(0,0,this.chartWidth,b.mainMaxHeight);var e=i.axisColor,n=i.axisColorAlpha;t.globalAlpha=n*this.cursorOpacity,t.strokeStyle=e,t.lineWidth=1;var r=this.projectXToCanvas(this.axisCursorPositionX),a=this.seriesOffsetTop,o=this.seriesOffsetTop+this.chartHeight;t.beginPath(),t.moveTo(r,a),t.lineTo(r,o),t.stroke()},s.redrawMarkers=function(){var t=this.telechart.uiContext,i=this.telechart.themeColors,e=this.series,n=i.color,r=this.cursorAnimation&&this.cursorAnimation.currentPosition||this.axisCursorPositionX,a=Wt(this.xAxis,r),o=a[0],s=a[1];o<0&&(o=0),s>=this.xAxis.length&&(s=this.xAxis.length-1);var h=this.xAxis[o],u=this.xAxis[s],l=0;u-h>0&&(l=(r-h)/(u-h));var c=this.projectXToCanvas(r);t.fillStyle=n,t.lineWidth=4;for(var d=0;d<e.length;++d){var v=e[d];t.strokeStyle=v.color,t.globalAlpha=v.opacity;var f=v.yAxis[o],g=f+(v.yAxis[s]-f)*l,p=this.projectYToCanvas(g);t.beginPath(),t.arc(c,p,3*v.opacity*this.cursorOpacity,0,2*Math.PI),t.stroke(),t.fill()}},s.setNavigationRange=function(t,i){var e=this._resolveNavigationRange(t,i),n=e[0],r=e[1];this.setViewportRange(n,r)},s.animateNavigationRangeTo=function(t,i){var e=this._resolveNavigationRange(t,i),n=e[0],r=e[1];this.animateViewportRangeTo(n,r)},s.setInitialRange=function(){var t=this.xAxis[0],i=this.xAxis[this.xAxis.length-1],e=Math.floor((i-t)*b.initialViewportScale),n=this.computeViewportPadding(i-e,i);this.setViewportRange(i-e-n,i+n)},s.extendSeriesOptions=function(t){return Object.assign({},t,{strokeWidth:2})},s.addCursorEvents=function(){var t=this;this.on(di,function(i){t.requestRedrawCursor()}),this.on(li,function(i){t.showCursor()}),this.on(ci,function(i){t.hideCursor()}),this.on(vi,function(i){var e=i[0],n=i[1];t.translateMarkers(e,n)})},s.showCursor=function(){this.cursorOpacity>=1||this.cursorAnimationType===Li.showing||(this.cancelCursorOpacityAnimation(),this.createCursorOpacityAnimation(1))},s.hideCursor=function(){this.cursorOpacity<=0||this.cursorAnimationType===Li.hiding||(this.cancelCursorOpacityAnimation(),this.createCursorOpacityAnimation(0))},s.translateMarkers=function(t,i){i=this.cursorAnimation&&this.cursorAnimation.currentPosition||i,this.cursorAnimation?this.patchCursorAnimation(t,i):(this._firstCursorAnimation&&(i=t),this._firstCursorAnimation=!1,this.createCursorAnimation(t,i))},s.createCursorOpacityAnimation=function(t){var i=this;void 0===t&&(t=0);var e=new ii(this,"cursorOpacity",t,{duration:1===t?150:300,timingFunction:"easeInOutQuad"}),n=function(t){i.cursorOpacityAnimation=null,i.cursorAnimationType=Li.inactive};e.on(Jt,n),e.on(Zt,n),e.start(),this.cursorOpacityAnimation=e},s.cancelCursorOpacityAnimation=function(){this.hasCursorOpacityAnimation&&(this.cursorOpacityAnimation.cancel(),this.cursorOpacityAnimation=null)},s.createCursorAnimation=function(t,i){var e=this,n=this.viewportRange[1]-this.viewportRange[0],r=new Ei(i,t,{velocity:5e-7*n,acceleration:1e-7*n,maxVelocity:1e9});r.on(Ti,function(t){e.cursorAnimation=null}),r.start(),this.cursorAnimation=r},s.patchCursorAnimation=function(t,i){if(this.cursorAnimation){var e=this.viewportRange[1]-this.viewportRange[0];Math.abs(t-i);this.cursorAnimation.setToPosition(t)}},s._resolveNavigationRange=function(t,i){var e=this.xAxis[0],n=this.xAxis[this.xAxis.length-1]-e,r=e+t*n,a=e+i*n,o=this.computeViewportPadding(r,a);return[r-o,a+o]},r=n,(a=[{key:"chartHeight",get:function(){return b.mainChartHeight}},{key:"hasCursorOpacityAnimation",get:function(){return this.cursorOpacityAnimation&&this.cursorOpacityAnimation.isRunning}},{key:"hasCursorAnimation",get:function(){return this.cursorAnimation&&this.cursorAnimation.isRunning}}])&&ki(r.prototype,a),o&&ki(r,o),n}(wi),Ni="rangeChanged",Vi="animateRange";function Ii(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Wi=function(t){var i,e;function n(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this)._type=ei.navigatorChart,i._overlayPaddingTopBottom=1,i._paddingLeftRight=12,i._viewportPadding=0,i._sliderWidth=0,i._sliderLeftRightBorderWidth=9,i._overlayLeftWidth=0,i._overlayRightWidth=0,i.redrawSliderUINeeded=!0,i._navigatorRange=[.8-b.initialViewportScale,.8],i._navigatorRange=[1-b.initialViewportScale,1],i._navigatorRangeAnimation=null,i._navigationRangeAnimationObject=null,i._navigatorMinRangeDistance=.075,i._navigatorChangeDirection="right",i}e=t,(i=n).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e;var r,a,o,s=n.prototype;return s.initialize=function(){if(t.prototype.initialize.call(this),this._updateNavigatorDimensions(),Math.random()>.7);},s.update=function(i){t.prototype.update.call(this,i),this._navigatorRangeAnimation&&this._navigatorRangeAnimation.isRunning&&(this._navigatorRangeAnimation.update(i),this.updateNavigationRange(this._navigationRangeAnimationObject.from,this._navigationRangeAnimationObject.to),this.redrawSliderUINeeded=!0)},s.render=function(){t.prototype.render.call(this),(this.redrawSliderUINeeded||this.telechart.forceRedraw)&&(this.redrawSliderUI(),this.redrawSliderUINeeded=!1)},s.redrawChart=function(){var t=this.telechart.navigationSeriesContext;t.clearRect(0,0,this.chartWidth,this.chartHeight),this.eachSeries(function(i){i.render(t)})},s.redrawSliderUI=function(){var t=this.telechart.navigationUIContext;t.clearRect(0,0,this.chartWidth,this.navigatorHeight),this.redrawSliderOverlays(t),this.redrawSlider(t)},s.redrawSliderOverlays=function(t){var i=this._overlayLeftWidth,e=this._overlayRightWidth,n=this.telechart.themeColors;i&&(t.globalAlpha=n.sliderOverlayAlpha,t.fillStyle=n.sliderOverlay,Ut(t,this._paddingLeftRight,this._overlayPaddingTopBottom,i+this._sliderLeftRightBorderWidth,this.navigatorHeight-2*this._overlayPaddingTopBottom,{tl:8,bl:8}),t.fill()),t.globalAlpha=n.sliderOverlayAlpha,t.fillStyle=n.sliderOverlay,e&&(Ut(t,this._paddingLeftRight+this.navigatorWidth-e-this._sliderLeftRightBorderWidth,this._overlayPaddingTopBottom,e+this._sliderLeftRightBorderWidth,this.navigatorHeight-2*this._overlayPaddingTopBottom,{tr:8,br:8}),t.fill())},s.redrawSlider=function(t){var i=this._overlayLeftWidth,e=this._overlayRightWidth,n=this.telechart.themeColors;t.globalAlpha=1,t.fillStyle=n.sliderBorder,t.strokeStyle=n.sliderBorder;Ut(t,this._paddingLeftRight+i,0,this._sliderLeftRightBorderWidth,this.navigatorHeight-0,{tl:6,bl:6}),t.fill(),Ut(t,this._paddingLeftRight+this.navigatorWidth-e-this._sliderLeftRightBorderWidth,0,this._sliderLeftRightBorderWidth,this.navigatorHeight-0,{tr:6,br:6}),t.fill(),t.strokeStyle=n.sliderBorder,t.lineWidth=1,t.beginPath(),t.moveTo(this._paddingLeftRight+i+this._sliderLeftRightBorderWidth,0),t.lineTo(this._paddingLeftRight+this.navigatorWidth-e-this._sliderLeftRightBorderWidth,0),t.stroke(),t.beginPath(),t.moveTo(this._paddingLeftRight+i+this._sliderLeftRightBorderWidth,this.navigatorHeight-0),t.lineTo(this._paddingLeftRight+this.navigatorWidth-e-this._sliderLeftRightBorderWidth,this.navigatorHeight-0),t.stroke(),t.strokeStyle="white",t.lineWidth=2,t.lineCap="round",t.lineJoin="round";var r=.2*this.navigatorHeight,a=this._paddingLeftRight+i+this._sliderLeftRightBorderWidth/2,o=this.navigatorHeight/2-r/2,s=this._paddingLeftRight+this.navigatorWidth-e-this._sliderLeftRightBorderWidth/2,h=this.navigatorHeight/2+r/2;t.beginPath(),t.moveTo(a,o),t.lineTo(a,h),t.stroke(),t.beginPath(),t.moveTo(s,o),t.lineTo(s,h),t.stroke()},s.onResize=function(){t.prototype.onResize.call(this),this._updateNavigatorDimensions(),this.redrawSliderUI()},s.animateNavigationRangeTo=function(t,i,e){var n=this;void 0===t&&(t=0),void 0===i&&(i=1),void 0===e&&(e={});var r=e,a=r.duration,o=void 0===a?300:a,s=r.timingFunction,h=void 0===s?"easeInOutQuad":s,u=this._clampNavigationRange(t,i),l=u[0],c=u[1];if(this._navigatorRangeAnimation)return this._navigatorRangeAnimation.patchAnimation([l,c]);this._navigationRangeAnimationObject={from:this._navigatorRange[0],to:this._navigatorRange[1]},this._navigatorRangeAnimation=new ii(this._navigationRangeAnimationObject,["from","to"],[l,c],{duration:o,timingFunction:h});var d=function(t){n._navigatorRangeAnimation=null};this._navigatorRangeAnimation.on(Jt,d),this._navigatorRangeAnimation.on(Zt,d),this._navigatorRangeAnimation.start(),this.emit(Vi,[l,c])},s.setNavigationRange=function(t,i,e){void 0===t&&(t=0),void 0===i&&(i=1);var n=(void 0===e?{}:e).emitChange,r=void 0===n||n,a=this._clampNavigationRange(t,i);t=a[0],i=a[1],this._navigatorRange=[t,i],this._updateNavigatorDimensions(),this.redrawSliderUINeeded=!0,r&&this.emit(Ni,this._navigatorRange)},s.updateNavigationRange=function(t,i){this.setNavigationRange(t,i,{emitChange:!1})},s._updateNavigatorDimensions=function(){var t=this._navigatorRange[0],i=1-this._navigatorRange[1],e=this.navigatorWidth;this._overlayLeftWidth=e*t,this._overlayRightWidth=e*i,this._sliderWidth=e-this._overlayLeftWidth-this._overlayRightWidth},s._clampNavigationRange=function(t,i,e){void 0===t&&(t=0),void 0===i&&(i=1),void 0===e&&(e=!1);var n=z(i-t,this._navigatorMinRangeDistance,1);t=z(t,0,1),i=z(i,0,1);var r="right"===this._navigatorChangeDirection,a=i-t,o=e?n:this._navigatorMinRangeDistance;return a<o&&(r?i-o>=0?t=i-o:(t=0,i=o):t+o<=1?i=t+o:(i=1,t=1-o)),[t,i]},s._createSliderEventsListeners=function(){var t=this._onSliderTouchStart.bind(this),i=this._onSliderTouchMove.bind(this),e=this._onSliderTouchEnd.bind(this),n=this._onSliderMouseDown.bind(this);this._slider.addEventListener("touchstart",t,{passive:!1}),this._slider.addEventListener("touchmove",i,{passive:!1}),this._slider.addEventListener("touchend",e),this._slider.addEventListener("mousedown",n);var r=this._onSliderControllerTouchStart.bind(this,"left"),a=this._onSliderControllerTouchMove.bind(this),o=this._onSliderControllerTouchEnd.bind(this),s=this._onSliderControllerMouseDown.bind(this,"left"),h=this._onSliderControllerTouchStart.bind(this,"right"),u=this._onSliderControllerTouchMove.bind(this),l=this._onSliderControllerTouchEnd.bind(this),c=this._onSliderControllerMouseDown.bind(this,"right");this._sliderControllerLeft.addEventListener("touchstart",r,{passive:!1}),this._sliderControllerLeft.addEventListener("touchmove",a,{passive:!1}),this._sliderControllerLeft.addEventListener("touchend",o),this._sliderControllerLeft.addEventListener("mousedown",s),this._sliderControllerRight.addEventListener("touchstart",h,{passive:!1}),this._sliderControllerRight.addEventListener("touchmove",u,{passive:!1}),this._sliderControllerRight.addEventListener("touchend",l),this._sliderControllerRight.addEventListener("mousedown",c);var d=this._onSliderOverlayClick.bind(this,"left"),v=this._onSliderOverlayClick.bind(this,"right");this._overlayLeft.addEventListener("click",d),this._overlayRight.addEventListener("click",v)},s._onSliderTouchStart=function(t){var i=t.targetTouches[0],e=i.pageX,n=i.pageY;this._sliderStartEvent={pageX:e,pageY:n},this._sliderStartPosition=this._navigatorRange.slice()},s._onSliderTouchMove=function(t){var i=t.targetTouches[0],e=this._sliderStartEvent.pageX,n=i.pageX,r=(e-(void 0===n?0:n))/this.navigatorWidth,a=this._sliderStartPosition,o=this._clampNavigationRange(a[0]-r,a[1]-r,!0),s=o[0],h=o[1];if(this.setNavigationRange(s,h),null===this._isSliderScrollingAction){var u=this._sliderStartEvent,l=u.pageX,c=u.pageY,d=Math.abs(c-i.pageY),v=Math.abs(l-i.pageX);this._isSliderScrollingAction=d>=v}this._isSliderScrollingAction||t.preventDefault()},s._onSliderTouchEnd=function(t){t.cancelable&&t.preventDefault(),this._isSliderScrollingAction=null},s._onSliderMouseDown=function(t){var i=this,e=t.pageX,n=t.pageY;this._sliderStartEvent={pageX:e,pageY:n},this._sliderStartPosition=this._navigatorRange.slice();var r=this._onSliderMouseMove.bind(this),a=document.body.getAttribute("style");setAttributeNS(document.body,"style",cssText({cursor:"grabbing"}),null),setAttributeNS(this._slider,"style",cssText({cursor:"grabbing"}),null),document.addEventListener("mousemove",r),document.addEventListener("mouseup",function(t){a?setAttributeNS(document.body,"style",a,null):document.body.removeAttribute("style"),setAttributeNS(i._slider,"style",cssText({cursor:"grab"}),null),document.removeEventListener("mousemove",r)})},s._onSliderMouseMove=function(t){t.preventDefault();var i=this._sliderStartEvent.pageX,e=t.pageX,n=(i-(void 0===e?0:e))/this.navigatorWidth,r=this._sliderStartPosition,a=this._clampNavigationRange(r[0]-n,r[1]-n,!0),o=a[0],s=a[1];this.setNavigationRange(o,s)},s._onSliderControllerTouchStart=function(t,i){var e=i.targetTouches[0],n=e.pageX,r=e.pageY;this._sliderControllerStartPosition=this._navigatorRange.slice(),this._navigatorChangeDirection=t,this._sliderControllerStartEvent={pageX:n,pageY:r}},s._onSliderControllerTouchMove=function(t){var i=t.targetTouches[0],e=this._sliderControllerStartEvent.pageX,n=i.pageX,r=(e-(void 0===n?0:n))/this.navigatorWidth,a=this._sliderControllerStartPosition,o="left"===this._navigatorChangeDirection,s=a[0]-(o?r:0),h=a[1]-(o?0:r),u=this._clampNavigationRange(s,h);if(s=u[0],h=u[1],o?this._sliderControllerStartPosition[1]=h:this._sliderControllerStartPosition[0]=s,this.setNavigationRange(s,h),null===this._isSliderControllerScrollingAction){var l=this._sliderControllerStartEvent,c=l.pageX,d=l.pageY,v=Math.abs(d-i.pageY),f=Math.abs(c-i.pageX);this._isSliderControllerScrollingAction=v>=f}this._isSliderControllerScrollingAction||t.preventDefault()},s._onSliderControllerTouchEnd=function(t){t.cancelable&&t.preventDefault(),this._isSliderControllerScrollingAction=null},s._onSliderControllerMouseDown=function(t,i){var e=i.pageX,n=i.pageY;this._sliderControllerStartPosition=this._navigatorRange.slice(),this._navigatorChangeDirection=t,this._sliderControllerStartEvent={pageX:e,pageY:n};var r=this._onSliderControllerMouseMove.bind(this),a=document.body.getAttribute("style");setAttributeNS(document.body,"style",cssText({cursor:"e-resize"}),null),document.addEventListener("mousemove",r),document.addEventListener("mouseup",function(t){a?setAttributeNS(document.body,"style",a,null):document.body.removeAttribute("style"),document.removeEventListener("mousemove",r)})},s._onSliderControllerMouseMove=function(t){t.preventDefault();var i=this._sliderControllerStartEvent.pageX,e=t.pageX,n=(i-(void 0===e?0:e))/this.navigatorWidth,r=this._sliderControllerStartPosition,a="left"===this._navigatorChangeDirection,o=r[0]-(a?n:0),s=r[1]-(a?0:n),h=this._clampNavigationRange(o,s);o=h[0],s=h[1],a?this._sliderControllerStartPosition[1]=s:this._sliderControllerStartPosition[0]=o,this.setNavigationRange(o,s)},s._onSliderOverlayClick=function(t,i){var e=this._resolveNavigatorPosition(i),n=.5*(this._navigatorRange[1]-this._navigatorRange[0]),r=this._clampNavigationRange(e-n,e+n,!0),a=r[0],o=r[1];this.animateNavigationRangeTo(a,o)},s._resolveNavigatorPosition=function(t){var i=t.pageX;t.pageY;return(i-b.chartPaddingLeftRight)/this.navigatorWidth},r=n,(a=[{key:"chartHeight",get:function(){return b.navigationChartHeight}},{key:"navigatorWidth",get:function(){return this.chartWidth-2*this._paddingLeftRight}},{key:"navigatorHeight",get:function(){return b.navigationChartUIHeight}},{key:"seriesOffsetTop",get:function(){return 0}},{key:"seriesOffsetBottom",get:function(){return 0}},{key:"seriesContext",get:function(){return this.telechart.navigationSeriesContext}},{key:"uiContext",get:function(){return this.telechart.navigationUIContext}}])&&Ii(r.prototype,a),o&&Ii(r,o),n}(wi);function Di(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Hi=1,Ui=!1;try{Ui="undefined"==typeof window}catch(t){Ui=!0}var Xi=function(t){var i,e;function n(){for(var i,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(i=t.call.apply(t,[this].concat(n))||this)._id=Hi++,i.options=null,i.environmentOptions=null,i.mainCanvas=null,i.axisCanvas=null,i.uiCanvas=null,i.navigationSeriesCanvas=null,i.navigationUICanvas=null,i.context=null,i._chart=null,i._navigatorChart=null,i._themeName=h.default,i._title="",i._clock=null,i.devicePixelRatio=1,i.canvasOffset={top:0,left:0},i.axisCanvasOffset={top:0,left:0},i.navigationSeriesCanvasOffset={top:0,left:0},i.navigationUICanvasOffset={top:0,left:0},i.dedicatedApi=null,i.forceRedraw=!1,i}e=t,(i=n).prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e,n.create=function(t,i,e){var r=t.mainCanvas,a=t.axisCanvas,o=t.uiCanvas,s=t.navigationSeriesCanvas,h=t.navigationUICanvas,u=t.api;void 0===i&&(i={}),void 0===e&&(e={});var l=new n;return l.dedicatedApi=u,l.setOptions(i),l.setMainCanvas(r),l.setAxisCanvas(a),l.setUICanvas(o),l.setNavigationSeriesCanvas(s),l.setNavigationUICanvas(h),l.setEnvironmentOptions(e),l.initialize(),l};var r,o,s,u=n.prototype;return u.setOptions=function(t){void 0===t&&(t={}),this.options=t},u.setEnvironmentOptions=function(t){void 0===t&&(t={});var i=t,e=i.devicePixelRatio,n=void 0===e?1:e,r=i.canvasOffset,a=i.canvasWidth,o=i.canvasHeight,s=i.axisCanvasOffset,h=i.axisCanvasWidth,u=i.axisCanvasHeight,l=i.uiCanvasOffset,c=i.uiCanvasWidth,d=i.uiCanvasHeight,v=i.navigationSeriesCanvasOffset,f=i.navigationSeriesCanvasWidth,g=i.navigationSeriesCanvasHeight,p=i.navigationUICanvasOffset,_=i.navigationUICanvasWidth,m=i.navigationUICanvasHeight;this.environmentOptions=t,this.devicePixelRatio=n,this.canvasOffset=r,this.canvasWidth=a,this.canvasHeight=o,this.axisCanvasOffset=s,this.axisCanvasWidth=h,this.axisCanvasHeight=u,this.uiCanvasOffset=l,this.uiCanvasWidth=c,this.uiCanvasHeight=d,this.navigationSeriesCanvasOffset=v,this.navigationSeriesCanvasWidth=f,this.navigationSeriesCanvasHeight=g,this.navigationUICanvasOffset=p,this.navigationUICanvasWidth=_,this.navigationUICanvasHeight=m,this.mainContext&&(this.updateContexts(),this.onResize())},u.onResize=function(){this.emit("resize")},u.setMainCanvas=function(t){this.mainCanvas=t},u.setAxisCanvas=function(t){this.axisCanvas=t},u.setUICanvas=function(t){this.uiCanvas=t},u.setNavigationSeriesCanvas=function(t){this.navigationSeriesCanvas=t},u.setNavigationUICanvas=function(t){this.navigationUICanvas=t},u.initialize=function(){this.setTheme(this.options.theme||h.default),this.setTitle(this.options.title),this.initializeContexts(),this._createChart(),this._createNavigatorChart(),this._addEventListeners(),this.initializeButtons(),this._clock=new a,this.nextFrame()},u.nextFrame=function(){var t=this,i=this._clock.getDelta();this.update(i),this.render(),this.global.requestAnimationFrame(function(i){return t.nextFrame()})},u.update=function(t){this._chart.update(t),this._navigatorChart.update(t)},u.render=function(){this._chart&&this._chart.render(),this._navigatorChart&&this._navigatorChart.render(),this.forceRedraw=!1},u.setTheme=function(t){this._themeName=t,this.forceRedraw=!0,this.render()},u.setTitle=function(t){this._title=t},u.destroy=function(){},u.initializeContexts=function(){this.mainContext=this.mainCanvas.getContext("2d"),this.axisContext=this.axisCanvas.getContext("2d"),this.uiContext=this.uiCanvas.getContext("2d"),this.navigationSeriesContext=this.navigationSeriesCanvas.getContext("2d"),this.navigationUIContext=this.navigationUICanvas.getContext("2d"),this.updateContextsScale()},u.updateContexts=function(){Ui&&(this.mainCanvas.width=this.canvasWidth*this.devicePixelRatio,this.mainCanvas.height=this.canvasHeight*this.devicePixelRatio,this.axisCanvas.width=this.axisCanvasWidth*this.devicePixelRatio,this.axisCanvas.height=this.axisCanvasHeight*this.devicePixelRatio,this.uiCanvas.width=this.uiCanvasWidth*this.devicePixelRatio,this.uiCanvas.height=this.uiCanvasHeight*this.devicePixelRatio,this.navigationSeriesCanvas.width=this.navigationSeriesCanvasWidth*this.devicePixelRatio,this.navigationSeriesCanvas.height=this.navigationSeriesCanvasHeight*this.devicePixelRatio,this.navigationUICanvas.width=this.navigationUICanvasWidth*this.devicePixelRatio,this.navigationUICanvas.height=this.navigationUICanvasHeight*this.devicePixelRatio),this.updateContextsScale()},u.updateContextsScale=function(){this.mainContext.scale(this.devicePixelRatio,this.devicePixelRatio),this.axisContext.scale(this.devicePixelRatio,this.devicePixelRatio),this.uiContext.scale(this.devicePixelRatio,this.devicePixelRatio),this.navigationSeriesContext.scale(this.devicePixelRatio,this.devicePixelRatio),this.navigationUIContext.scale(this.devicePixelRatio,this.devicePixelRatio)},u.initializeButtons=function(){var t=this._getLines();Ui?this.global.postMessage({type:g,buttons:t}):this.dedicatedApi.initializeButtons(t)},u.updateButtons=function(){var t=this._getLines();Ui?this.global.postMessage({type:p,buttons:t}):this.dedicatedApi.updateButtons(t)},u.mainCanvasEvent=function(t,i){this._chart.emitEvent(t,i)},u._createChart=function(){this._chart=new Yi(this,this.options),this._chart.initialize()},u._createNavigatorChart=function(){this._navigatorChart=new Wi(this,this.options),this._navigatorChart.initialize()},u._addEventListeners=function(){var t=this;this._chart.on(hi,function(i){i.isVisible?t._navigatorChart.setSeriesVisible(i.label):t._navigatorChart.setSeriesInvisible(i.label)}),this._chart.on(ui,function(i){t.updateButtons()}),this._navigatorChart.on(Ni,function(i){var e;(e=t._chart).setNavigationRange.apply(e,i)}),this._navigatorChart.on(Vi,function(i){var e;(e=t._chart).animateNavigationRangeTo.apply(e,i)})},u._getLines=function(){return this._chart._series.map(function(t){return{color:t.color,name:t.name,label:t.label,visible:t.isVisible}})},r=n,(o=[{key:"themeName",get:function(){return this._themeName}},{key:"themeColors",get:function(){return l[this._themeName]||l.default}},{key:"global",get:function(){return Ui?self:window}},{key:"isWorker",get:function(){return Ui}}])&&Di(r.prototype,o),s&&Di(r,s),n}(r);const ji=new r;let Fi=null;self.addEventListener("message",t=>{const i=t.data.type||"message";ji.emit(i,t)}),ji.on(c,t=>{const i=t.data;Fi=function(t){var i=t.mainCanvas,e=t.axisCanvas,n=t.uiCanvas,r=t.navigationSeriesCanvas,a=t.navigationUICanvas,o=t.api,s=void 0===o?null:o,h=t.settings,u=h.options,l=h.environmentOptions;return Xi.create({mainCanvas:i,axisCanvas:e,uiCanvas:n,navigationSeriesCanvas:r,navigationUICanvas:a,api:s},u,l)}(i),console.log(Fi)}),ji.on(d,t=>{const{environmentOptions:i}=t.data;i&&Fi.setEnvironmentOptions(i)}),ji.on(v,t=>{let{themeName:i}=t.data;Fi.setTheme(i)}),ji.on(f,t=>{let{title:i}=t.data;Fi.setTitle(i)}),ji.on(_,t=>{let{label:i,longTap:e=!1}=t.data;e?Fi._chart.toggleAllSeriesExcept(i):Fi._chart.toggleSeries(i)}),ji.on(y,t=>{let{eventName:i,event:e}=t.data;Fi.mainCanvasEvent(i,e)})}]);